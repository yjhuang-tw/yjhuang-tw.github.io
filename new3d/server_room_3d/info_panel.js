let info_panels=["","",""];function SetCabinetInfo(o){$.ajax({url:"http://132.145.121.108:8081/render/api/cabinet/"+o,dataType:"json",crossDomain:!0,contentType:"application/json",xhrFields:{withCredentials:!0}}).done(function(e){for(let t=0;t<e.length;++t)$("#warning-panel-"+o).append(`<div class="text-white infopanel-flex-inner">${e[t].name} | ${e[t].value} </div>`)}).fail(function(t,e){console.log(t),console.log(e)})}function CalcInfoLinePos(t,e,o,n,i){let h=o.domElement,f=new n.Vector3;f.x=JSON.parse(JSON.stringify(t.link_x)),f.y=JSON.parse(JSON.stringify(t.link_y)),f.z=JSON.parse(JSON.stringify(t.link_z)),f.project(i);t=h.style.width.replace("px",""),i=h.style.height.replace("px",""),t=Math.round((f.x+1)*t/2),i=Math.round((1-f.y)*i/2);let a=new n.Vector2(t,i);e=document.getElementById(e).getBoundingClientRect();let r=[];r[0]=new n.Vector2((e.right+e.left)/2,e.top),r[1]=new n.Vector2((e.right+e.left)/2,e.bottom),r[2]=new n.Vector2(e.right,(e.top+e.bottom)/2),r[3]=new n.Vector2(e.left,(e.top+e.bottom)/2);let l=99999999,s,y;for(let t=0;t<r.length;t++)a.distanceToSquared(r[t])<l&&(l=a.distanceToSquared(r[t]),s=r[t],y=t);let w={h1:0,h2:0,w1:0,w2:0,x1:0,y1:0,x2:0,y2:0};return w.offset1=new n.Vector2,w.offset2=new n.Vector2,w.offset1.x=e.right-s.x,w.offset1.y=s.y-e.top,0==y?(w.w1=2,w.h1=e.top-i,w.x1=0,w.y1=w.h1,w.offset2.x=Math.min(e.right-t,e.right-s.x),w.offset2.y=i-e.top,w.w2=Math.abs(t-s.x),w.h2=2,w.x2=w.w2,w.y2=0,w.offset1.y-=w.h1):1==y?(w.w1=2,w.h1=i-e.bottom,w.x1=0,w.y1=w.h1,w.offset2.x=Math.min(e.right-t,e.right-s.x),w.offset2.y=i-e.top,w.w2=Math.abs(t-s.x),w.h2=2,w.x2=w.w2,w.y2=0):2==y?(w.w1=t-e.right,w.h1=2,w.x1=w.w1,w.y1=0,w.offset2.x=e.right-t,w.offset2.y=Math.min(s.y-e.top,i-e.top),w.w2=2,w.h2=Math.abs(i-s.y),w.x2=0,w.y2=w.h2,w.offset1.x=-w.w1):3==y&&(w.w1=e.left-t,w.h1=2,w.x1=w.w1,w.y1=0,w.offset2.x=e.right-t,w.offset2.y=Math.min(s.y-e.top,i-e.top),w.w2=2,w.h2=Math.abs(i-s.y),w.x2=0,w.y2=w.h2),w.h1<0&&(w.h1=0),w.h2<0&&(w.h2=0),w.w1<0&&(w.w1=0),w.w2<0&&(w.w2=0),w}